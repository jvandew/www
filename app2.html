<!DOCTYPE html>
<html>
<head>
<title>MapGraph</title>
</head>
<body>
<style type="text/css">
div.olControlAttribution, div.olControlScaleLine {
font-family: Verdana;
font-size: 10px;
bottom: 3px;
}
</style>
<div id="map" style="height:540px; width:960px"></div>
<script src="http://www.openlayers.org/api/OpenLayers.js"></script>
<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script src = "app.js"></script>
<script type="text/javascript">
  function getMyURL(bounds) {
    var res = this.map.getResolution();
    var x = Math.floor((bounds.left - this.maxExtent.left)/(res*this.tileSize.w)) + 1;
    var y = Math.floor((this.maxExtent.top - bounds.top)/(res*this.tileSize.h)) + 1;
    var z = this.map.getZoom();

    var path = z + "/" + x + "/" + y + "." + this.type; 
    var url = this.url;
    if (url instanceof Array) {
      url = this.selectUrl(path, url);
    }
    return url + path;
  }

  var extent = new OpenLayers.Bounds(0, 0, 33554432 - 256, 33554432 - 256);
  var lon = 74.0064;
  var lat = 40.7142;
  var zoom = 2;

  var map = new OpenLayers.Map("map", {restrictedExtent: extent});
  var layer = new OpenLayers.Layer.TMS("TMS",
                                       "https://dnv9my2eseobd.cloudfront.net/v3/foursquare.map-0y1jh28j/",
                                       {maxExtent: extent,
                                       maxResolution: 33554432/256,
                                       numZoomLevels: 18,
                                       getURL: getMyURL,
                                       type: "png"});
  map.addLayer(layer);
  map.setCenter(new OpenLayers.LonLat(lon, lat), zoom);
</script>
</body>
</html>
